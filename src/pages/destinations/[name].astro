---
import type { GetStaticPaths } from "astro";
import Layout from "@layouts/Layout.astro";
import DestinationSection from "@layouts/DestinationSection.astro";
import SectionTitle from "@components/SectionTitle.astro";
import data from "../../data/data.json";

export const getStaticPaths = (() => {
  const staticParams = data.destinations.map((destination) => ({
    params: { name: destination.name.toLowerCase() }
  }))
  return staticParams;
}) satisfies GetStaticPaths;

const { name } = Astro.params;
const destination = data.destinations.find((destination) => destination.name.toLowerCase() === name)!;
console.log(destination);
---
<Layout title={destination.name} description="" bgImage="background-destination.jpg">
  <SectionTitle leftText="01">
    Pick  your destination
  </SectionTitle>
  <DestinationSection image={destination.images.webp} {...destination}  />
</Layout>